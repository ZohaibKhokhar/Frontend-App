<div class="visit-type-container">
  <div class="visit-type-header">
    <h2>Visit Types</h2>
    <button class="add-btn" (click)="navigateToAddVisitType()">+ Add Visit Type</button>
  </div>

  @if (isLoading) {
    <p class="loading-text">Loading visit types...</p>
  }

  @if (errorMessage) {
    <p class="error-text">{{ errorMessage }}</p>
  }

  @if (!isLoading) {
    @if (visitTypes$ | async; as visitTypes) {
      @if (visitTypes.length > 0) {
        <div class="visit-type-list">
          @for (visitType of visitTypes; track visitType.visitTypeID) {
            <div class="visit-type-card">
              <h3>{{ visitType.typeName }}</h3>
              <div class="actions">
                @if (isDeleting(visitType.visitTypeID)) {
                  <button class="delete-btn" disabled>Deleting...</button>
                } @else {
                  <button class="delete-btn" (click)="deleteVisitType(visitType.visitTypeID)">üóë Delete</button>
                }
                <button class="update-btn" (click)="updateVisitType(visitType.visitTypeID)">‚úè Update</button>
              </div>
            </div>
          }
        </div>
      } @else {
        <p class="empty-text">No visit types found.</p>
      }
    }
  }
</div>